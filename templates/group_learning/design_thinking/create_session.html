{% extends 'base.html' %}
{% load static %}

{% block title %}Create Design Thinking Session - DecipherWorld{% endblock %}

{% block extra_head %}
<style>
  /* Minimal CSS for gradient background only */
  main {
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%) !important;
  }
</style>
{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto pt-20 pb-8 px-4">
  <div class="text-center mb-8">
    <h1 class="text-3xl font-bold text-slate-900 mb-2">👨‍🏫 Create Teaching Session</h1>
    <p class="text-slate-600">Set up a new Design Thinking session for your classroom</p>
  </div>

  <div class="bg-white rounded-xl shadow-lg border border-gray-200 p-6">
    <!-- Display Messages -->
    {% if messages %}
      {% for message in messages %}
        <div class="p-3 rounded-lg mb-4 text-sm {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}bg-red-100 border border-red-200 text-red-700{% else %}bg-green-100 border border-green-200 text-green-700{% endif %}">
          {{ message }}
        </div>
      {% endfor %}
    {% endif %}

    <!-- Session Creation Form -->
    <form method="post">
      {% csrf_token %}
      
      <div class="mb-6">
        <label for="facilitator_name" class="block text-sm font-medium text-gray-700 mb-2">Your Name (Teacher/Facilitator) *</label>
        <input type="text" 
               id="facilitator_name" 
               name="facilitator_name" 
               required
               maxlength="100"
               placeholder="Ms. Johnson"
               class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200">
        <div class="text-xs text-gray-500 mt-1">This will be displayed to students during the session</div>
      </div>

      <div class="mb-6">
        <label for="session_name" class="block text-sm font-medium text-gray-700 mb-2">Session Name (Optional)</label>
        <input type="text" 
               id="session_name" 
               name="session_name" 
               maxlength="200"
               placeholder="Period 3 - Innovation Challenge"
               class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200">
        <div class="text-xs text-gray-500 mt-1">Help identify this session in your dashboard</div>
      </div>

      <div class="mb-6">
        <label for="class_info" class="block text-sm font-medium text-gray-700 mb-2">Class Information (Optional)</label>
        <textarea id="class_info" 
                  name="class_info" 
                  rows="3"
                  placeholder="Grade 8, Design & Technology Class"
                  class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-vertical transition-all duration-200"></textarea>
        <div class="text-xs text-gray-500 mt-1">Additional context for your session</div>
      </div>

      <!-- Session Settings -->
      <div class="bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6">
        <div class="text-sm font-semibold text-gray-700 mb-3">Session Settings</div>
        
        <div class="flex items-center mb-3">
          <input type="checkbox" 
                 id="auto_advance" 
                 name="auto_advance"
                 class="mr-2 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
          <label for="auto_advance" class="text-sm text-gray-700">
            Auto-advance missions when all teams complete
          </label>
        </div>
        
        <div class="flex items-center mb-3">
          <input type="checkbox" 
                 id="require_all_teams" 
                 name="require_all_teams"
                 class="mr-2 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
          <label for="require_all_teams" class="text-sm text-gray-700">
            Require all teams to complete before advancing
          </label>
        </div>
        
        <div class="flex items-center">
          <input type="checkbox" 
                 id="enable_peer_viewing" 
                 name="enable_peer_viewing"
                 checked
                 class="mr-2 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
          <label for="enable_peer_viewing" class="text-sm text-gray-700">
            Allow teams to view other teams' work
          </label>
        </div>
      </div>

      <!-- Action Buttons -->
      <button type="submit" class="w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white font-medium py-3 px-6 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-200 mb-3">
        🚀 Create Session & Get Code
      </button>
      
      <a href="{% url 'group_learning:design_thinking_start' %}" class="block w-full text-center bg-gray-100 text-gray-700 font-medium py-3 px-6 rounded-lg hover:bg-gray-200 transition-all duration-200">
        ← Back to Start Page
      </a>
    </form>
  </div>
</div>
{% endblock %}
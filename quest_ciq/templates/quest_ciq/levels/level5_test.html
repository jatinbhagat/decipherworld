<!-- Level 5: Test/Presentation - Summary of all previous work -->

<div class="text-center mb-8">
    <div class="badge badge-lg badge-success mb-4">ğŸ‰ Quest Complete!</div>
    <h1 class="text-4xl font-bold mb-2">{{ session.student_name }}'s Innovation Journey</h1>
    <p class="text-xl">Here's your complete design thinking solution</p>
</div>

<!-- Summary Cards for Each Level -->
{% for resp in session.responses.all %}
    {% if resp.level_order == 1 %}
        {% with l1_answers=resp.get_answers %}
        <div class="card bg-base-100 shadow-lg mb-6">
            <div class="card-body">
                <h3 class="card-title text-2xl">ğŸ‘€ Level 1: Empathy</h3>
                <div class="mt-4">
                    <h4 class="font-semibold mb-2">Top Priority Pain Point:</h4>
                    <div class="badge badge-primary badge-lg">{{ l1_answers.prioritized.top }}</div>
                    <p class="mt-2">{{ l1_answers.pain_description }}</p>
                </div>
            </div>
        </div>
        {% endwith %}
    {% elif resp.level_order == 2 %}
        {% with l2_answers=resp.get_answers %}
        <div class="card bg-base-100 shadow-lg mb-6">
            <div class="card-body">
                <h3 class="card-title text-2xl">ğŸ¯ Level 2: Define</h3>
                <div class="mt-4">
                    <div class="card bg-primary text-primary-content">
                        <div class="card-body p-4">
                            <h4 class="font-semibold text-lg">How might we {{ l2_answers.hmw_goal }}, so that {{ l2_answers.hmw_outcome }}?</h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endwith %}
    {% elif resp.level_order == 3 %}
        {% with l3_answers=resp.get_answers %}
        <div class="card bg-base-100 shadow-lg mb-6">
            <div class="card-body">
                <h3 class="card-title text-2xl">ğŸ’¡ Level 3: Ideate</h3>
                <div class="mt-4">
                    <div class="space-y-3">
                        {% for idea in l3_answers.ideas %}
                            {% if idea %}
                            <div class="card bg-secondary text-secondary-content">
                                <div class="card-body p-3">
                                    <p>{{ idea }}</p>
                                </div>
                            </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
        {% endwith %}
    {% elif resp.level_order == 4 %}
        {% with l4_answers=resp.get_answers %}
        <div class="card bg-base-100 shadow-lg mb-6">
            <div class="card-body">
                <h3 class="card-title text-2xl">ğŸ› ï¸ Level 4: Prototype</h3>
                <div class="mt-4">
                    <h4 class="font-semibold mb-2">Prototype Description:</h4>
                    <div class="card bg-accent text-accent-content mb-4">
                        <div class="card-body p-4">
                            <p>{{ l4_answers.prototype_explanation }}</p>
                        </div>
                    </div>
                    {% if l4_answers.prototype_link %}
                    <h4 class="font-semibold mb-2">Prototype Link:</h4>
                    <a href="{{ l4_answers.prototype_link }}" target="_blank" class="link link-primary">
                        ğŸ”— {{ l4_answers.prototype_link }}
                    </a>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endwith %}
    {% endif %}
{% endfor %}

<!-- Completion Message -->
<div class="alert alert-success">
    <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
    <span>
        <strong>Congratulations!</strong> You've completed the Classroom Innovation Quest! 
        Your design thinking journey shows real problem-solving skills.
    </span>
</div>

<!-- Action Buttons -->
<div class="flex gap-4 mt-8">
    <a href="{% url 'quest_ciq:leaderboard' %}" class="btn btn-primary">
        ğŸ† View Leaderboard
    </a>
    <a href="{% url 'quest_ciq:progress' session_code=session.session_code %}" class="btn btn-outline">
        ğŸ“Š View Progress
    </a>
</div>